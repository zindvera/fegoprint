<!DOCTYPE html>
<html lang="en">


<head>

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../media/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../media/favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../media/favicon/favicon-180x180.png">
    <!-- Bootstrap CSS -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #fafafa;
        }

        .imgcard {
            width: 100%;
            height: auto;
        }



        .top-header-wrapper {
            max-width: 100%;
            padding-left: 15px;
            padding-right: 15px;
            margin-left: auto;
            margin-right: auto;
        }


        @media (min-width: 992px) {
            .top-header-wrapper {
                max-width: 720px;
            }
        }


        @media (min-width: 768px) and (max-width: 991.98px) {
            .top-header-wrapper {
                max-width: 600px;
            }
        }


        .top-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 1rem;
            margin: 0 auto;
            flex-wrap: nowrap;
        }


        @media (max-width: 767.98px) {
            .top-header {
                flex-direction: column;
                align-items: flex-start;
            }


            .btn-amazon {
                margin-top: 1rem;
            }
        }


        .wall-art-design {

            max-height: 270px;
            max-width: 60%;
            margin: auto;
        }


        #loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loader {
            border: 6px solid #b6fad5;
            /* Light blue background */
            border-top: 6px solid #01ce7f;
            /* Blue spinner color */
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }


        .btn-amazon {
            background-color: #FF9900;
            color: white;
            border-radius: 5px;
            font-weight: 600;
            border: none;
            padding: 12px 32px;
            font-size: 1.2rem;
            text-decoration: none;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
            transition: background-color 0.3s ease;
        }


        @media (max-width: 767.98px) {
            .btn-amazon {
                padding: 8px 20px;
                font-size: 1.1rem;
            }
        }


        .grid-item img {
            width: 100%;
            height: auto;
            display: block;
        }


        @media (max-width: 767.98px) {
            .grid-item {
                margin-bottom: 0.5in;
            }
        }


        .float-btn {
            position: fixed;
            z-index: 1050;
            display: none;
            animation: glowing-yellow 2.5s infinite alternate;
            box-shadow: 0 0 10px 2px #FFDD55;
        }


        @media (min-width: 768px) {
            .float-btn {
                bottom: 20px;
                right: 20px;
                width: auto;
            }
        }


        @media (max-width: 767.98px) {
            .float-btn {
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                width: calc(100% - 40px);
                text-align: center;
            }
        }


        @keyframes glowing-yellow {
            0% {
                box-shadow: 0 0 5px 2px #FFD54F;
                background-color: #FF9900;
            }


            50% {
                box-shadow: 0 0 15px 6px #FFEB3B;
                background-color: #FFB300;
            }


            100% {
                box-shadow: 0 0 5px 2px #FFD54F;
                background-color: #FF9900;
            }
        }


        .segment-section {
            margin-bottom: 2rem;
        }


        a.segment-link {
            display: block;
            color: inherit;
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 0.8rem;
            text-decoration: none;
        }


        a.segment-link:hover {
            text-decoration: underline;
        }


        a.color-subsegment-link {
            display: block;
            margin-bottom: 1.5rem;
            color: inherit;
            text-decoration: none;
        }


        a.color-subsegment-link:hover {
            text-decoration: underline;
        }


        a.color-subsegment-link h3 {
            margin-bottom: 0.75rem;
            font-weight: 600;
        }


        .image-scroll-container {
            display: flex;
            overflow-x: auto;
            gap: 1rem;
            padding-bottom: 0.5rem;
        }


        .image-scroll-container::-webkit-scrollbar {
            height: 8px;
        }


        .image-scroll-container::-webkit-scrollbar-thumb {
            background-color: #ccc;
            border-radius: 4px;
        }


        .image-card {
            flex-shrink: 0;
            width: 250px;
            height: 250px;
            object-fit: cover;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
            cursor: pointer;
        }


        .color-card {
            padding: 1rem;
            margin-bottom: 1.5rem;
            display: flex;
            flex-direction: column;
        }


        .color-cards-row {
            display: flex;
            gap: 1rem;
        }


        @media (max-width: 767.98px) {
            .color-cards-row {
                flex-direction: column;
            }
        }


        a.color-card-link {
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .color-filtered-img {
            width: 100% !important;
            /* full width */
            height: auto !important;
            /* keep aspect ratio */
            border-radius: 6px;
            box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
            display: block;
        }


        .accordion-expanded {
            margin-top: 8px;
            padding: 12px;
            background: #e0ebfd;
            border-radius: 4px;
            position: relative;
            width: 100%;
            box-sizing: border-box;
        }

        /* Triangle arrow above accordion pointing to button */
        .triangle-arrow {
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-bottom: 25px solid #e0ebfd;
            position: absolute;
            top: -24px;
            right: 25px;
            /* adjust horizontal position aligned with button */
        }

        /* Scroll fixed button style */
        .fixed-scroll-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1100;
            display: none;
        }

        #cameraButtonWrapper {
            position: relative;
            width: 70vw;
            margin-left: auto;
            margin-right: auto;
            text-align: end;
            padding-right: 14px;
        }



        .close-icon {

            font-size: 40px;

            color: #333;
            cursor: pointer;
            user-select: none;

        }

        #phone {
            width: 300px;
            height: 600px;
            border: 13px solid #424242;
            border-radius: 46px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 0 28px 0px #bdbdbd40;
            background: #000;
            margin: 0 auto 5px;
        }

        #wallArt {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background-position: center;
            background-size: contain;
            background-repeat: no-repeat;
            transform: scale(0.4) translateY(-20%);
            transform-origin: center center;
            transition: transform 2s cubic-bezier(0.56, 0.1, 0.92, 0.9);
        }

        #openCameraBtn {
            position: absolute;
            text-decoration: none;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            padding: 18px 0;
            background-image: linear-gradient(90deg, #5E60CE 0%, #3A0CA3 100%);
            color: #fff;
            font-weight: 800;
            font-size: 1.19rem;
            border: none;
            border-radius: 42px;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 4px 16px -2px #3a0ca352;
            transition: background 0.3s, box-shadow 0.24s;
            text-align: center;
            letter-spacing: 0.04em;
        }


        #imageContainer {
            position: absolute;
            top: 0;
            left: 0;
            height: 110vh;
            width: 100%;
            transition: transform 8s cubic-bezier(0.62, 0.21, 0.38, 0.95);
        }

        #imageContainer img {
            height: 100%;
            width: 130%;
            object-fit: cover;
            display: block;
            transition: transform 3s cubic-bezier(0.4, 0.72, 0.39, 0.98);
            transform-origin: center center;
        }


        #openCameraBtn:hover {
            background-image: linear-gradient(90deg, #0980b7 10%, #4361ee 90%);
            color: #fff;
            box-shadow: 0 2px 30px -3px #3a0ca338;
        }


        /* Phone view: for screen widths up to 767px (small devices) */
        @media (max-width: 767px) {

            .fixed-scroll-btn {

                top: 7px;
                right: 10px;

            }

            .accordion-expanded {
                margin-top: 25px;
            }

            .btn-amazon {
                min-width: 60vw;
                margin: auto;
                text-align: center;
            }

            /* Phone-specific styles */
            #cameraButtonWrapper {
                width: 100vw;
                margin-top: 0.25in;
                padding-left: 14px;

            }

            .ctadiv {
                display: flex;
                justify-content: flex-end;
                /* aligns content to the right */
                align-items: center;
                /* vertically centers content if needed */
                padding-right: 15px;
                margin-top: 0.2in;
                /* optional padding */
            }

            .top-header {

                align-items: center;
            }

            #accordion-text {

                font-size: 24px;
            }

            #cameraAccordion {
                border-radius: 30px;
            }


            .wall-art-design {
                max-height: 260px;
                max-width: 70vw;
            }


        }

        /* Tablet view: for screen widths between 768px and 1023px */
        @media (min-width: 768px) and (max-width: 1023px) {

            .fixed-scroll-btn {

                top: 7px;
                right: 20px;

            }

            /* Tablet-specific styles */
            /* Phone-specific styles */
            #cameraButtonWrapper {
                /* width: 70vw; */
                position: relative;

            }

            #cameraAccordion {
                position: absolute;
                top: 0;
                right: 0;
                /* align to right of cameraButtonWrapper */
                width: 55%;
                margin-left: 0;
                margin-top: 60px;
                /* remove auto margin */
                z-index: 1055;
                /* overlay */
                border-radius: 30px;

            }

            #accordion-text {
                padding-left: 10px;
                padding-right: 10px;
                font-size: 24px;
            }

        }

        /* Desktop view: for screen widths 1024px and above */
        @media (min-width: 1024px) {

            .fixed-scroll-btn {

                top: 7px;
                right: 28px;

            }

            #cameraButtonWrapper {
                position: relative;
                /* positioning context */
                /* width: 65vw; */
            }

            #cameraAccordion {
                position: absolute;
                top: 0;
                right: 0;
                /* align to right of cameraButtonWrapper */
                width: 50%;
                margin-left: 0;
                margin-top: 60px;
                /* remove auto margin */
                z-index: 1055;
                /* overlay */
                border-radius: 30px;

            }

            #accordion-text {
                padding-left: 10px;
                padding-right: 10px;
                font-size: 25px;
            }


        }
    </style>
</head>


<body>

    <div id="loader-overlay">
        <div class="loader"></div>
    </div>

    <div class="navdiv" style="margin-bottom: 0.6in;"></div>

    <div class="top-header-wrapper">
        <div class="top-header">
            <img src="" alt="wall art" class="wall-art-design" />
            <div class="ctadiv">
                <a id="topCta" href="https://www.amazon.com/dp/your-product-ASIN" target="_blank"
                    rel="noopener noreferrer" class="btn-amazon">
                    Get on Amazon
                </a>
            </div>

        </div>
    </div>




    <!-- Preview Images Section -->
    <div class="container-fluid px-md-3 px-0 mt-4">
        <div id="imageGrid" class="row g-md-3 g-0"></div>
    </div>


    <a id="floatCta" href="" target="_blank" rel="noopener noreferrer" class="btn-amazon float-btn">
        Get on Amazon
    </a>

    <footer
        style="margin-top: 1.5in; padding: 1.25rem 0; text-align: center; font-size: 0.9rem; color: #4b5563; background: linear-gradient(90deg,#e7f7ec,#f3f4f6); border-top: 1px solid #d1d5db;">
        <div style="max-width: 900px; margin: 0 auto; padding: 0 1rem;">
            <p style="margin: 0 0 0.25rem 0;">&copy; 2025 FegoPrint. All rights reserved.</p>
            <p style="margin: 0;">
                <a href="../../../../../about.html"
                    style="color: #2563eb; text-decoration: none; margin: 0 0.5rem;">About</a>
                <span style="color:#9ca3af;">|</span>
                <a href="../../../../../privacy.html"
                    style="color: #2563eb; text-decoration: none; margin: 0 0.5rem;">Privacy</a>
                <span style="color:#9ca3af;">|</span>
                <a href="../../../../../terms.html"
                    style="color: #2563eb; text-decoration: none; margin: 0 0.5rem;">Terms</a>
                <span style="color:#9ca3af;">|</span>
                <a href="../../../../../cookies.html"
                    style="color: #2563eb; text-decoration: none; margin: 0 0.5rem;">Cookies</a>
                <span style="color:#9ca3af;">|</span>
                <a href="../../../../../contact.html"
                    style="color: #2563eb; text-decoration: none; margin: 0 0.5rem;">Contact</a>
            </p>
        </div>
    </footer>


    <script src="../../../nav.js"></script>



    <script>
        // GLOBAL path variable
        let targetImagePath = 'images/';

        // STEP 1: Get design ID
        function getDesignId() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('d') || '1';
        }

        // Check if image exists
        async function imageExists(url) {
            try {
                const res = await fetch(url, { method: 'HEAD' });
                return res.ok;
            } catch {
                return false;
            }
        }

        // STEP 2B: Update header wall-art.png image
        function updateHeaderImage(designId) {
            const targetPath = `designs/${designId}/images/`;
            const wallArtImg = document.querySelector('.wall-art-design');

            if (wallArtImg) {
                const newSrc = targetPath + 'wall-art.png';
                wallArtImg.src = newSrc;
                console.log(`âœ… Header updated: ${newSrc}`);
            } else {
                console.log(`âŒ Header image (.wall-art-design) not found`);
            }
        }

        // STEP 4A: Update page title from data.json
        async function updatePageTitle(designId) {
            try {
                const response = await fetch(`designs/${designId}/data.json`);
                if (!response.ok) throw new Error('data.json not found');

                const data = await response.json();
                if (data.title) {
                    document.title = data.title;
                    console.log(`âœ… Title: ${data.title}`);
                }
            } catch (error) {
                console.log(`âš ï¸ No title in data.json for ${designId}`);
            }
        }



        // STEP 3: Load url.json and update CTA links
        // STEP 3C: Load url.json and update ALL 4 links
        async function loadDesignUrls(designId) {
            try {
                const response = await fetch(`designs/${designId}/data.json`);
                if (!response.ok) throw new Error('data.json not found');

                const urls = await response.json();
                console.log(`ðŸ“¡ Loaded urls:`, urls);

                // 1. Update topCta (Amazon button)
                const topCta = document.getElementById('topCta');
                if (topCta && urls.cta_url) {
                    topCta.href = urls.cta_url;
                    console.log(`âœ… topCta: ${urls.cta_url}`);
                }

                // 2. Update floatCta (floating Amazon button)
                const floatCta = document.getElementById('floatCta');
                if (floatCta && urls.cta_url) {
                    floatCta.href = urls.cta_url;
                    console.log(`âœ… floatCta: ${urls.cta_url}`);
                }

     

            } catch (error) {
                console.log(`âš ï¸ url.json not found for ${designId}, using defaults`);
            }
        }


        // STEP 2C: Update wallArt background-image (wall-art-demo.png)
        function updateWallArtOverlay(designId) {
            const targetPath = `designs/${designId}/images/`;
            const wallArtDiv = document.getElementById('wallArt');

            if (wallArtDiv) {
                const newBg = `url('${targetPath}wall-art.png')`;
                wallArtDiv.style.backgroundImage = newBg;
                console.log(`âœ… Wall art overlay: ${targetPath}wall-art-demo.png`);
            } else {
                console.log(`âŒ wallArt div (#wallArt) not found`);
            }
        }


        // STEP 2A: Updated loadImages with dynamic path
        async function loadImages() {
            console.log(`ðŸ” Loading from: ${targetImagePath}`);
            const extensions = ['png', 'jpg', 'webp'];
            const grid = document.getElementById('imageGrid');
            let index = 1;

            while (true) {
                let imgPath = null;
                for (const ext of extensions) {
                    const path = `${targetImagePath}preview-lg-${index}.${ext}`;
                    console.log(`ðŸ” Checking: ${path}`);
                    const exists = await imageExists(path);
                    if (exists) {
                        imgPath = path;
                        console.log(`âœ… Found: ${path}`);
                        break;
                    }
                }
                if (!imgPath) {
                    console.log(`âŒ No more images at index ${index}`);
                    break;
                }

                const colDiv = document.createElement('div');
                colDiv.className = 'col-12 col-md-6';
                const itemDiv = document.createElement('div');
                itemDiv.className = 'grid-item';
                const img = document.createElement('img');
                img.src = imgPath;
                img.alt = `Preview Image ${index}`;
                itemDiv.appendChild(img);
                colDiv.appendChild(itemDiv);
                grid.appendChild(colDiv);
                index++;
            }
            console.log(`âœ… Grid loaded ${index - 1} images`);
        }





        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            const designId = getDesignId();
            document.title = `Sticker Design ${designId}`;
            targetImagePath = `designs/${designId}/images/`;

            console.log(`ðŸŽ¨ Design ID: ${designId}`);
            console.log(`âœ… Path set: ${targetImagePath}`);

            updatePageTitle(designId);
            // Update header image FIRST
            updateHeaderImage(designId);
          
            // Load URLs from JSON
            loadDesignUrls(designId);

            // Then load grid images
            loadImages();
        });


        // Cookie logic (keep existing)
        window.addEventListener('DOMContentLoaded', () => {
            function getCookie(name) {
                const value = `; ${document.cookie}`;
                const parts = value.split(`; ${name}=`);
                if (parts.length === 2) return parts.pop().split(';').shift();
                return null;
            }
            function setCookie(name, value) {
                const d = new Date();
                d.setFullYear(d.getFullYear() + 10);
                const expires = "expires=" + d.toUTCString();
                document.cookie = `${name}=${value};${expires};path=/`;
            }
            const stickerCameraGuide = getCookie('wallartCameraGuide');
            if (!stickerCameraGuide) {
                setCookie('wallartCameraGuide', 'true');
            } else {
                const element = document.getElementById('accordion-text');
                if (element) {
                    element.remove();
                    const phoneElement = document.getElementById("phone");
                    if (phoneElement) phoneElement.style.marginTop = "-35px";
                }
            }


        });




        window.addEventListener('load', () => {
            const loader = document.getElementById('loader-overlay');
            if (loader) {
                loader.style.display = 'none';
            }
        });


        document.addEventListener('DOMContentLoaded', () => {
            const closeIcon = document.querySelector('.accordion-content .close-icon');
            if (!closeIcon) return;

            closeIcon.addEventListener('click', () => {
                const cameraAccordion = document.getElementById('cameraAccordion');
                if (cameraAccordion) {
                    cameraAccordion.remove();
                }
            });

            // Optional: keyboard accessibility (Enter or Space to activate)
            closeIcon.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    closeIcon.click();
                }
            });
        });


        document.addEventListener('DOMContentLoaded', () => {
            const topCta = document.getElementById('topCta');
            const floatCta = document.getElementById('floatCta');

            if (!topCta || !floatCta) return;

            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            floatCta.style.display = 'none';
                        } else {
                            floatCta.style.display = 'block';
                        }
                    });
                },
                { threshold: 0.1 }
            );

            observer.observe(topCta);
        });

     


    </script>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>


</html>